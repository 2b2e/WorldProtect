package hmmhmmmm.worldprotect.data;

import hmmhmmmm.worldprotect.WorldProtect;

import cn.nukkit.utils.Config;
import cn.nukkit.utils.TextFormat;

import java.io.File;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.HashMap;
import java.util.Map;
import java.util.Set;

public class Language{
   private WorldProtect plugin;
   private String lang = "?";
   private Config data = null;
  
   private List<String> langKey = Arrays.asList(
      "notfound.plugin",
      "plugininfo.name",
      "plugininfo.version",
      "plugininfo.author",
      "plugininfo.description",
      "plugininfo.facebook",
      "plugininfo.youtube",
      "plugininfo.website",
      "plugininfo.discord",
      "event.place",
      "event.break",
      "event.interact",
      "event.damage",
      "event.pvp",
      "event.explode",
      "event.weather",
      "event.item-drop",
      "event.move",
      "event.fly",
      "event.keepinventory",
      "event.keepexperience",
      "event.bucketfill",
      "event.bucketempty",
      "event.chat",
      "event.bedenter",
      "event.eatfood",
      "event.food",
      "event.teleport",
      "event.itemframe-drop",
      "worldprotect.command.consoleError",
      "worldprotect.command.permissionError",
      "worldprotect.command.sendHelp.empty",
      "worldprotect.command.info.usage",
      "worldprotect.command.info.description",
      "worldprotect.command.event.usage",
      "worldprotect.command.event.description",
      "worldprotect.command.event.complete",
      "worldprotect.command.set.usage",
      "worldprotect.command.set.description",
      "worldprotect.command.set.error1",
      "worldprotect.command.set.error2",
      "worldprotect.command.set.error3",
      "worldprotect.command.set.complete",
      "worldprotect.command.banitem.usage",
      "worldprotect.command.banitem.description",
      "worldprotect.command.banitem.error1",
      "worldprotect.command.banitem.error2",
      "worldprotect.command.banitem.error3",
      "worldprotect.command.banitem.error4",
      "worldprotect.command.banitem.error5",
      "worldprotect.command.banitem.error6",
      "worldprotect.command.banitem.error7",
      "worldprotect.command.banitem.complete",
      "worldprotect.command.unbanitem.usage",
      "worldprotect.command.unbanitem.description",
      "worldprotect.command.unbanitem.error1",
      "worldprotect.command.unbanitem.error2",
      "worldprotect.command.unbanitem.error3",
      "worldprotect.command.unbanitem.error4",
      "worldprotect.command.unbanitem.error5",
      "worldprotect.command.unbanitem.complete",
      "worldprotect.command.bancmd.usage",
      "worldprotect.command.bancmd.description",
      "worldprotect.command.bancmd.error1",
      "worldprotect.command.bancmd.error2",
      "worldprotect.command.bancmd.error3",
      "worldprotect.command.bancmd.complete",
      "worldprotect.command.unbancmd.usage",
      "worldprotect.command.unbancmd.description",
      "worldprotect.command.unbancmd.error1",
      "worldprotect.command.unbancmd.error2",
      "worldprotect.command.unbancmd.error3",
      "worldprotect.command.unbancmd.complete",
      "worldprotect.command.whitelist.usage",
      "worldprotect.command.whitelist.description",
      "worldprotect.command.whitelist.error1",
      "worldprotect.command.whitelist.error2",
      "worldprotect.command.whitelist.complete",
      "worldprotect.command.unwhitelist.usage",
      "worldprotect.command.unwhitelist.description",
      "worldprotect.command.unwhitelist.error1",
      "worldprotect.command.unwhitelist.error2",
      "worldprotect.command.unwhitelist.complete",
      "listener.blockbreak.error1",
      "listener.blockplace.error1",
      "listener.itemframedrop.error1",
      "listener.pvp.error1",
      "listener.bedenter.error1",
      "listener.bucketempty.error1",
      "listener.bucketfill.error1",
      "listener.chat.error1",
      "listener.bancmd.error1",
      "listener.eatfood.error1",
      "listener.item-drop.error1",
      "listener.interact.error1",
      "listener.banitem.error1",
      "listener.move.error1",
      "listener.teleport.error1",
      "form.menu.content",
      "form.whitelist.content.title",
      "form.whitelist.content.error1",
      "form.whitelist.content.complete",
      "form.whitelist.dropdown1.title",
      "form.whitelist.dropdown1.step1",
      "form.whitelist.dropdown1.step2",
      "form.whitelist.input1.title",
      "form.whitelist.error1",
      "form.whitelist.error2",
      "form.edit.content",
      "form.edit.button1",
      "form.edit.button2",
      "form.edit.button3",
      "form.edit.button4",
      "form.edit.reset.complete",
      "form.edit2.complete",
      "form.banitem.content.title",
      "form.banitem.content.error1",
      "form.banitem.content.complete",
      "form.banitem.dropdown1.title",
      "form.banitem.dropdown1.step1.title",
      "form.banitem.dropdown1.step1.error1",
      "form.banitem.dropdown1.step1.error2",
      "form.banitem.dropdown1.step1.error3",
      "form.banitem.dropdown1.step1.error4",
      "form.banitem.dropdown1.step1.error5",
      "form.banitem.dropdown1.step2.title",
      "form.banitem.dropdown1.step2.error1",
      "form.banitem.dropdown1.step2.error2",
      "form.banitem.dropdown1.step2.error3",
      "form.banitem.input1.title",
      "form.banitem.input2.title",
      "form.bancmd.content.title",
      "form.bancmd.content.error1",
      "form.bancmd.content.complete",
      "form.bancmd.dropdown1.title",
      "form.bancmd.dropdown1.step1.title",
      "form.bancmd.dropdown1.step1.error1",
      "form.bancmd.dropdown1.step2.title",
      "form.bancmd.dropdown1.step2.error1",
      "form.bancmd.input1.title"
   );
   
   private String[] langEnglish = new String[]{
      "§cThis plugin will not work, Please install the plugin %1",
      "§fName plugin %1",
      "§fVersion %1",
      "§fList of creators %1",
      "§fDescription of the plugin. §eis a plugin free. Please do not sell. If you redistribute it, please credit the creator. :)",
      "§fFacebook %1",
      "§fYoutube %1",
      "§fWebsite %1",
      "§fDiscord %1",
      "Player place block",
      "Player break block",
      "Player touch block",
      "Player immortal",
      "Player battle",
      "Block spread explode",
      "Raining",
      "Player discard item",
      "Player Walking",
      "Player Flying",
      "Player death item fall",
      "Player death xp fall",
      "Player fill bucket",
      "Player empty bucket",
      "Player chat print",
      "Player enter bed",
      "Player eat food",
      "Esophageal player do not reduce",
      "Player teleport",
      "Item frame fall",
      "§cSorry: commands can be typed only in the game.",
      "§cSorry: You cannot type this command.",
      "§eYou can see more commands by typing /worldprotect help",
      "/worldprotect info",
      "§fCredit of the plugin creator",
      "/worldprotect event",
      "§fSee various events",
      "Event §a%1 (%2)",
      "/worldprotect set <worldname> <event> <true:false>",
      "§fSet various protection",
      "§cTry: %1",
      "§cThe world name cannot be found %1 Or the world doesn't load",
      "§cEvent not found %1",
      "World %1 have set the protect %2 are %3 successfully",
      "/worldprotect banitem <worldname> <itemId> <itemDamage>",
      "§fBan item",
      "§cTry: %1",
      "§cThe world name cannot be found %1 Or the world doesn't load",
      "§c<itemId> Please write as numbers.",
      "§c<itemDamage> Please write as numbers.",
      "§cCannot use item %1",
      "§cItem %1 Not in the game",
      "§cItem %1 Has already been banned",
      "Ban items %1 %2 in the world %3 successfully",
      "/worldprotect unbanitem <worldname> <itemId> <itemDamage>",
      "§fUnban item",
      "§cTry: %1",
      "§cThe world name cannot be found %1 Or the world doesn't load",
      "§c<itemId> Please write as numbers.",
      "§c<itemDamage> Please write as numbers.",
      "§cItem not found %1",
      "Unban item %1 in the world %2 successfully",
      "/worldprotect bancmd <worldname> <command>",
      "§fBan command",
      "§cTry: %1",
      "§cThe world name cannot be found %1 Or the world doesn't load",
      "§cCommand %1 has already been banned",
      "Ban command %1 in the world %2 successfully",
      "/worldprotect unbancmd <worldname> <command>",
      "§fUnban command",
      "§cTry: %1",
      "§cThe world name cannot be found %1 Or the world doesn't load",
      "§cCommand not found %1",
      "Unban command %1 in the world %2 successfully",
      "/worldprotect whitelist <playername>",
      "§fAllow players to use various events.",
      "§cTry: %1",
      "§cPlayer name %1 already have",
      "Allow players %1 successfully used events",
      "/worldprotect unwhitelist <playername>",
      "§fDelete the players from using various events",
      "§cTry: %1",
      "§cPlayer name not found %1",
      "Delete players %1 do not allow events to be used successfully",
      "§cYou cannot break blocks on this world.",
      "§cYou cannot place blocks on this world.",
      "§cYou cannot take out item frame in this world.",
      "§cYou cannot battle players in this world.",
      "§cYou cannot enter bed on this world.",
      "§cYou cannot empty bucket on this world.",
      "§cYou cannot fill bucket on this world.",
      "§cYou cannot chat print on this world.",
      "§cYou cannot type commands %1 on this world.",
      "§cYou cannot eat food on this world.",
      "§cYou cannot discard item on this world.",
      "§cYou can't use items in this world.",
      "§cItem %1 banned on this world.",
      "§cYou cannot walking on this world.",
      "§cYou cannot teleport on this world.",
      "§ePlease select menu.",
      "§fList of players that allow use of various events.",
      "§cwithout",
      "§fall §a(%1player)",
      "§emenu",
      "§fAdd player name",
      "§fDelete player name",
      "§ePlayer name",
      "§cAn error has occurred\n§ePlayer name %1 Already exists",
      "§cAn error has occurred\n§ePlayer name not found %1",
      "§ePlease select menu.",
      "§fEdit the world and various protect.",
      "§fBan item",
      "§fBan command",
      "§cReset all settings.",
      "§aYou have successfully reset all settings.",
      "§aYou have edit world %1 successfully",
      "§fList of items that have been banned",
      "§cwithout",
      "§fall §a(%1item)",
      "§emenu",
      "§fAdd item",
      "§cAn error has occurred\n§e<itemId> Please write as numbers.",
      "§cAn error has occurred\n§e<itemDamage> Please write as numbers.",
      "§cAn error has occurred\n§eCannot ban item %1",
      "§cAn error has occurred\n§eItem %1 Not in game",
      "§cAn error has occurred\n§eItem %1 Has already been banned",
      "§fDelete item",
      "§cAn error has occurred\n§e<itemId> Please write as numbers.",
      "§cAn error has occurred\n§e<itemDamage> Please write as numbers.",
      "§cAn error has occurred\n§eItem not found %1",
      "§fitemId",
      "§fitemDamage",
      "§fList of commands that have been banned",
      "§cwithout",
      "§fall §a(%1command)",
      "§emenu",
      "§fAdd command",
      "§cAn error has occurred\n§eCommand %1 Has already been banned",
      "§fDelete command",
      "§cAn error has occurred\n§eCommand not found %1",
      "§fcommand"
   };
      
   private String[] langThai = new String[]{
      "§cปลั๊กนี้จะไม่ทำงาน กรุณาลงปลั๊กอิน %1",
      "§fปลั๊กอินชื่อ %1",
      "§fเวอร์ชั่น %1",
      "§fรายชื่อผู้สร้าง %1",
      "§fคำอธิบายของปลั๊กอิน §eเป็นปลั๊กอินทำแจกกรุณาอย่าเอาไปขาย ถ้าจะแจกต่อโปรดให้เครดิตผู้สร้างด้วย :)",
      "§fเฟสบุ๊ค %1",
      "§fยูทูป %1",
      "§fเว็บไซต์ %1",
      "§fดิสคอร์ด %1",
      "ผู้เล่นวางบล็อก",
      "ผู้เล่นทุบบล็อก",
      "ผู้เล่นแตะบล็อก",
      "ผู้เล่นอมตะ",
      "ผู้เล่นต่อสู้",
      "ระเบิดบล็อกกระจาย",
      "ฝนตก",
      "ผู้เล่นทิ้งไอเทม",
      "ผู้เล่นเดิน",
      "ผู้เล่นบิน",
      "ผู้เล่นของตก",
      "ผู้เล่นเอ็กพีตก",
      "ผู้เล่นเทถัง",
      "ผู้เล่นตักถัง",
      "ผู้พิมพ์แชท",
      "ผู้เล่นกดเตียง",
      "ผู้เล่นกินอาหาร",
      "ผู้เล่นหลอดอาหารไม่ลด",
      "ผู้เล่นวาร์ป",
      "ไอเทมโชว์ตก",
      "§cขออภัย: คำสั่งสามารถพิมพ์ได้เฉพาะในเกมส์",
      "§cขออภัย: คุณไม่สามารถพิมพ์คำสั่งนี้ได้",
      "§eคุณสามารถดูคำสั่งเพิ่มเติมได้โดยพิมพ์ /worldprotect help",
      "/worldprotect info",
      "§fเครดิตผู้สร้างปลั๊กอิน",
      "/worldprotect event",
      "§fดูอีเว้นท์ต่างๆ",
      "อีเว้นท์ §a%1 (%2)",
      "/worldprotect set <ชื่อโลก> <อีเว้นท์> <true:false>",
      "§fโพรเทตต่างๆ",
      "§cลอง: %1",
      "§cไม่พบชื่อโลก %1 หรือโลกไม่ได้โหลด",
      "§cไม่พบอีเว้นท์ %1",
      "โลก %1 ได้เซ็ตโพรเทต %2 เป็น %3 เรียบร้อย",
      "/worldprotect banitem <ชื่อโลก> <ไอเทมId> <ไอเทมDamage>",
      "§fแบนไอเทม",
      "§cลอง: %1",
      "§cไม่พบชื่อโลก %1 หรือโลกไม่ได้โหลด",
      "§c<ไอเทมId> กรุณาเขียนให้เป็นตัวเลข",
      "§c<ไอเทมDamage> กรุณาเขียนให้เป็นตัวเลข",
      "§cไม่สามารถใช้ไอเทม %1",
      "§cไอเทม %1 ไม่ได้อยู่ในเกมส์",
      "§cไอเทม %1 ได้แบนอยู่แล้ว",
      "ได้แบนไอเทม %1 %2 ในโลก %3 เรียบร้อย",
      "/worldprotect unbanitem <ชื่อโลก> <ไอเทมId> <ไอเทมDamage>",
      "§fปลดแบนไอเทม",
      "§cลอง: %1",
      "§cไม่พบชื่อโลก %1 หรือโลกไม่ได้โหลด",
      "§c<ไอเทมId> กรุณาเขียนให้เป็นตัวเลข",
      "§c<ไอเทมDamage> กรุณาเขียนให้เป็นตัวเลข",
      "§cไม่พบไอเทม %1 ที่แบนอยู่",
      "ได้ปลดแบนไอเทม %1 ในโลก %2 เรียบร้อย",
      "/worldprotect bancmd <ชื่อโลก> <คำสั่ง>",
      "§fแบนคำสั่ง",
      "§cลอง: %1",
      "§cไม่พบชื่อโลก %1 หรือโลกไม่ได้โหลด",
      "§cคำสั่ง %1 ได้แบนอยู่แล้ว",
      "แบนคำสั่ง %1 ในโลก %2 เรียบร้อย",
      "/worldprotect unbancmd <ชื่อโลก> <คำสั่ง>",
      "§fปลดแบนคำสั่ง",
      "§cลอง: %1",
      "§cไม่พบชื่อโลก %1 หรือโลกไม่ได้โหลด",
      "§cไม่พบคำสั่ง %1 ที่แบนอยู่",
      "ได้ปลดแบนคำสั่ง %1 ในโลก %2 เรียบร้อย",
      "/worldprotect whitelist <ชื่อผู้เล่น>",
      "§fอนุญาตให้ผู้เล่นใช้อีเว้นท์ต่างๆ",
      "§cลอง: %1",
      "§cชื่อผู้เล่น %1 ได้มีอยู่แล้ว",
      "อนุญาตให้ผู้เล่น %1 ใช้อีเว้นท์ต่างๆเรียบร้อย",
      "/worldprotect unwhitelist <ชื่อผู้เล่น>",
      "§fปลดผู้เล่นไม่ให้ใช้อีเว้นท์ต่างๆ",
      "§cลอง: %1",
      "§cไม่พบชื่อผู้เล่น %1",
      "ได้ปลดผู้เล่น %1 ไม่ให้ใช้อีเว้นท์ต่างๆเรียบร้อย",
      "§cคุณไม่สามารถทุบบล็อกบนโลกนี้ได้",
      "§cคุณไม่สามารถวางบล็อกบนโลกนี้ได้",
      "§cคุณไม่สามารถเอาไอเท็มโชว์ออกบนโลกนี้ได้",
      "§cคุณไม่สามารถตีผู้เล่นบนโลกนี้ได้", 
      "§cคุณไม่สามารถกดเตียงโลกนี้ได้",
      "§cคุณไม่สามารถตักถังบนโลกนี้ได้",
      "§cคุณไม่สามารถเทถังบนโลกนี้ได้",
      "§cคุณไม่สามารถพิมพ์แชทบนโลกนี้ได้",
      "§cคุณไม่สามารถพิมพ์คำสั่ง %1 บนโลกนี้ได้",
      "§cคุณไม่สามารถกินอาหารบนโลกนี้ได้",
      "§cคุณไม่สามารถทิ้งของบนโลกนี้ได้",
      "§cคุณไม่สามารถใช้ของบนโลกนี้ได้",
      "§cไอเทม %1 ถูกแบนบนโลกนี้",
      "§cคุณไม่สามารถเดินบนโลกนี้ได้",
      "§cคุณไม่สามารถวาร์ปบนโลกนี้ได้",
      "§eโปรดเลือกเมนู",
      "§fรายชื่อผู้เล่นที่ให้อนุญาตให้ใช้อีเว้นท์ต่างๆ",
      "§cไม่มี",
      "§fทั้งหมด §a(%1คน)",
      "§eเมนู",
      "§fเพิ่มชื่อผู้เล่น",
      "§fลบชื่อผู้เล่น",
      "§eชื่อผู้เล่น",
      "§cเกิดข้อผิดพลาด\n§eชื่อผู้เล่น %1 มีอยู่แล้ว",
      "§cเกิดข้อผิดพลาด\n§eไม่พบชื่อผู้เล่น %1",
      "§eโปรดเลือกเมนู",
      "§fแก้ไขโลกและโพรเทตต่างๆ",
      "§fแบนไอเทม",
      "§fแบนคำสั่งู",
      "§cรีเช็ตการตั้งค่าทั้งหมด",
      "§aคุณได้รีเซ็ตการตั้งค่าทั้งหมดเรียบร้อย",
      "§aคุณได้แก้ไขโลก %1 เรียบร้อย",
      "§fรายการไอเทมที่แบนไปแล้ว",
      "§cไม่มี",
      "§fทั้งหมด §a(%1ไอเทม)",
      "§eเมนู",
      "§fเพิ่มไอเทม",
      "§cเกิดข้อผิดพลาด\n§e<ไอเทมId> กรุณาเขียนให้เป็นตัวเลข",
      "§cเกิดข้อผิดพลาด\n§e<ไอเทมDamage> กรุณาเขียนให้เป็นตัวเลข",
      "§cเกิดข้อผิดพลาด\n§eไม่สามารถแบนไอเทม %1 ได้",
      "§cเกิดข้อผิดพลาด\n§eไอเทม %1 ไม่ได้อยู่ในเกมส์",
      "§cเกิดข้อผิดพลาด\n§eไอเทม %1 ได้แบนอยู่แล้ว",
      "§fลบไอเทม",
      "§cเกิดข้อผิดพลาด\n§e<ไอเทมId> กรุณาเขียนให้เป็นตัวเลข",
      "§cเกิดข้อผิดพลาด\n§e<ไอเทมDamage> กรุณาเขียนให้เป็นตัวเลข",
      "§cเกิดข้อผิดพลาด\n§eไม่พบไอเทม %1 ที่แบนอยู่",
      "§fไอเทมId",
      "§fไอเทมDamage",
      "§fรายการคำสั่งที่แบนไปแล้ว",
      "§cไม่มี",
      "§fทั้งหมด §a(%1คำสั่ง)",
      "§eเมนู",
      "§fเพิ่มคำสั่ง",
      "§cเกิดข้อผิดพลาด\n§eคำสั่ง %1 ได้แบนอยู่แล้ว",
      "§fลบคำสั่ง",
      "§cเกิดข้อผิดพลาด\n§eไม่พบคำสั่ง %1 ที่แบนอยู่",
      "§fคำสั่ง"
   };
   
   public Language(WorldProtect plugin, String lang){
      this.plugin = plugin;
      this.lang = lang;
      File dataFolder = new File(plugin.getDataFolder(), "language");
      dataFolder.mkdirs();
      this.data = new Config(new File(dataFolder, this.lang+".yml"), Config.YAML);
      if(!this.data.exists("reset")){
         reset();
      }else{
         if(this.data.getBoolean("reset")){
            reset();
         }
      }
   }
   public WorldProtect getPlugin(){
      return plugin;
   }
   public String getLang(){
      return lang;
   }
   public Config getData(){
      return data;
   }
   public void reset(){
      if(getLang().equals("english")){
         int i = 0;
         for(String key : langKey){
            data.set("reset", false);
            data.set(key, langEnglish[i]);
            i++;
         }
      }
      if(getLang().equals("thai")){
         int i = 0;
         for(String key : langKey){
            data.set("reset", false);
            data.set(key, langThai[i]);
            i++;
         }
      }
      data.save();
   }
   public String getTranslate(String key){
      if(data.exists(key)){
         return data.getString(key);
      }
      return "§cNot found message "+key;
   }
   public String getTranslate(String key, String[] params){
      if(data.exists(key)){
         String message = data.getString(key);
         for(int i = 0; i < params.length; i++){
            message = message.replace("%"+(i + 1), params[i]);
         }
         return message;
      }
      return "§cNot found message "+key;
   }
}